{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _http = _interopRequireDefault(require(\"../../libs/http\"));\n\nvar _colors = _interopRequireDefault(require(\"../../res/colors\"));\n\nvar _CoinMarketItem = _interopRequireDefault(require(\"./CoinMarketItem\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\prog\\\\cryptoTracker\\\\src\\\\components\\\\coins\\\\CoinDetailScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar CoinDetailScreen = function (_Component) {\n  (0, _inherits2.default)(CoinDetailScreen, _Component);\n\n  var _super = _createSuper(CoinDetailScreen);\n\n  function CoinDetailScreen() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CoinDetailScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      coin: {},\n      markets: []\n    };\n\n    _this.getSymbolIcon = function (name) {\n      if (name) {\n        var symbol = name.toLowerCase().replace(\" \", \"-\");\n        return \"https://c1.coinlore.com/img/25x25/\" + symbol + \".png\";\n      }\n    };\n\n    _this.getSections = function (coin) {\n      var sections = [{\n        title: \"Market cap\",\n        data: [coin.market_cap_usd]\n      }, {\n        title: \"Volume 24h\",\n        data: [coin.volume24]\n      }, {\n        title: \"change 24h\",\n        data: [coin.percent_change_24h]\n      }];\n      return sections;\n    };\n\n    _this.getMarkets = function _callee(coinId) {\n      var url, markets;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = \"https://api.coinlore.net/api/coin/markets/?id=\" + coinId;\n              _context.next = 3;\n              return _regenerator.default.awrap(_http.default.instance.get(url));\n\n            case 3:\n              markets = _context.sent;\n\n              _this.setState({\n                markets: markets\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(CoinDetailScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var coin = this.props.route.params.coin;\n      this.props.navigation.setOptions({\n        title: coin.symbol\n      });\n      this.getMarkets(coin.id);\n      this.setState({\n        coin: coin\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          coin = _this$state.coin,\n          markets = _this$state.markets;\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.subHeader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(Image, {\n        style: styles.iconImg,\n        source: {\n          uri: this.getSymbolIcon(coin.name)\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.titleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, coin.name)), _react.default.createElement(_reactNative.SectionList, {\n        style: styles.section,\n        sections: this.getSections(coin),\n        keyExtractor: function keyExtractor(item) {\n          return item;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.sectionItem,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: styles.itemText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }\n          }, \" \", item, \" \"));\n        },\n        renderSectionHeader: function renderSectionHeader(_ref2) {\n          var section = _ref2.section;\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.sectionHeader,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: styles.sectionText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }\n          }, \" \", section.title, \" \"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.marketsTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, \" Markets \"), _react.default.createElement(_reactNative.FlatList, {\n        style: styles.list,\n        horizontal: true,\n        data: markets,\n        renderItem: function renderItem(_ref3) {\n          var item = _ref3.item;\n          return _react.default.createElement(_CoinMarketItem.default, {\n            item: item,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 47\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n  return CoinDetailScreen;\n}(_react.Component);\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: _colors.default.charade\n  },\n  subHeader: {\n    backgroundColor: \"rgba(0, 0, 0, 0.1)\",\n    padding: 16,\n    flexDirection: \"row\"\n  },\n  iconImg: {\n    width: 25,\n    height: 25\n  },\n  titleText: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    marginLeft: 8\n  },\n  sectionHeader: {\n    backgroundColor: \"rgba(0,0,0, 0.2\",\n    padding: 8\n  },\n  sectionItem: {\n    padding: 8\n  },\n  itemText: {\n    color: \"#fff\",\n    fontSize: 14\n  },\n  sectionText: {\n    color: \"#fff\",\n    fontSize: 14,\n    fontWeight: \"bold\"\n  },\n  section: {\n    maxWidth: 220\n  },\n  list: {\n    maxHeight: 100,\n    paddingLeft: 16\n  },\n  marketsTitle: {\n    color: \"#fff\",\n    fontSize: 16,\n    marginBottom: 16,\n    marginLeft: 16,\n    fontWeight: \"bold\"\n  }\n});\n\nvar _default = CoinDetailScreen;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/prog/cryptoTracker/src/components/coins/CoinDetailScreen.js"],"names":["CoinDetailScreen","state","coin","markets","getSymbolIcon","name","symbol","toLowerCase","replace","getSections","sections","title","data","market_cap_usd","volume24","percent_change_24h","getMarkets","coinId","url","Http","instance","get","setState","props","route","params","navigation","setOptions","id","styles","container","subHeader","iconImg","uri","titleText","section","item","sectionItem","itemText","sectionHeader","sectionText","marketsTitle","list","Component","StyleSheet","create","flex","backgroundColor","Colors","charade","padding","flexDirection","width","height","fontSize","fontWeight","color","marginLeft","maxWidth","maxHeight","paddingLeft","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {View, Text, StyleSheet, SectionList, FlatList} from 'react-native';\r\nimport Http from '../../libs/http';\r\nimport Colors from '../../res/colors';\r\nimport CoinMaketItem from './CoinMarketItem';\r\n\r\nclass CoinDetailScreen extends Component {\r\n\r\n    state = {\r\n        coin: {},\r\n        markets: []\r\n    }\r\n\r\n    getSymbolIcon = (name) => {\r\n        if(name) {\r\n\r\n            const symbol = name.toLowerCase().replace(\" \", \"-\");\r\n\r\n            return `https://c1.coinlore.com/img/25x25/${symbol}.png`\r\n        }\r\n    }\r\n\r\n    getSections = (coin) => {\r\n        const sections = [\r\n            {\r\n                title: \"Market cap\",\r\n                data: [coin.market_cap_usd]\r\n            },\r\n            {\r\n                title: \"Volume 24h\",\r\n                data: [coin.volume24]\r\n            },\r\n            {\r\n                title: \"change 24h\",\r\n                data: [coin.percent_change_24h]\r\n            }\r\n        ]\r\n\r\n        return sections;\r\n    }\r\n\r\n    getMarkets = async (coinId) => {\r\n        const url = `https://api.coinlore.net/api/coin/markets/?id=${coinId}`\r\n        const markets = await Http.instance.get(url);\r\n        this.setState({ markets })\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { coin } = this.props.route.params;\r\n\r\n        this.props.navigation.setOptions({ title: coin.symbol })\r\n        this.getMarkets(coin.id);\r\n\r\n        this.setState({ coin });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { coin, markets } = this.state;\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.subHeader}>\r\n                    <Image style={styles.iconImg} source={{ uri: this.getSymbolIcon(coin.name) }} />\r\n                    <Text style={styles.titleText}>{ coin.name }</Text>\r\n                </View>\r\n                \r\n                <SectionList\r\n                    style={styles.section}\r\n                    sections={this.getSections(coin)}\r\n                    keyExtractor={(item) => item}\r\n                    renderItem={({ item }) => \r\n                    <View style={styles.sectionItem}>\r\n                        <Text style={styles.itemText}> { item } </Text>\r\n                    </View>\r\n                    }\r\n                    renderSectionHeader={({ section }) => \r\n                        <View style={styles.sectionHeader}>\r\n                            <Text style={styles.sectionText}> { section.title } </Text>\r\n                        </View>\r\n                    }\r\n                />\r\n\r\n                <Text style={styles.marketsTitle}> Markets </Text>\r\n                <FlatList \r\n                    style={styles.list}\r\n                    horizontal={true}\r\n                    data={markets}\r\n                    renderItem={({ item }) => <CoinMaketItem item={item}/>}\r\n                />\r\n\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: Colors.charade\r\n    },\r\n    subHeader: {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.1)\",\r\n        padding: 16,\r\n        flexDirection: \"row\"\r\n    },  \r\n    iconImg: {\r\n        width: 25,\r\n        height: 25\r\n    },\r\n    titleText: {\r\n        fontSize: 16,\r\n        fontWeight: \"bold\",\r\n        color: \"#fff\",\r\n        marginLeft: 8\r\n    },\r\n    sectionHeader: {\r\n        backgroundColor: \"rgba(0,0,0, 0.2\",\r\n        padding: 8,\r\n    },\r\n    sectionItem: {\r\n        padding: 8\r\n    },\r\n    itemText: {\r\n        color: \"#fff\",\r\n        fontSize: 14\r\n    },\r\n    sectionText: {\r\n        color: \"#fff\",\r\n        fontSize: 14,\r\n        fontWeight: \"bold\"\r\n    },\r\n    section: {\r\n        maxWidth: 220\r\n    },\r\n    list: {\r\n        maxHeight: 100,\r\n        paddingLeft: 16\r\n    },\r\n    marketsTitle: {\r\n        color: \"#fff\",\r\n        fontSize: 16,\r\n        marginBottom: 16,\r\n        marginLeft: 16,\r\n        fontWeight: \"bold\"\r\n    }\r\n})\r\n\r\nexport default CoinDetailScreen;"]},"metadata":{},"sourceType":"script"}